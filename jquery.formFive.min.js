/*
# formFive jQuery Plugin
# A plugin for HTML5 Form compatibility
# version 1.1.3, July 16th, 2013
# by Etienne Talbot
*/

!function(){jQuery.fn.formFive=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this;return g={placeholder:!1,placeholderClass:"placeholder",autofocus:!1,formaction:!1,formenctype:!1,formmethod:!1,formtarget:!1,formAttribute:!1},a&&jQuery.extend(g,a),t=null,s=null,l=function(){var a;t=jQuery(u),g.placeholder&&(m("input","placeholder")?g.placeholder=!1:(t.off("submit.formFive",f),t.on("submit.formFive",f),q())),g.autofocus&&(m("input","autofocus")?g.autofocus=!1:b()),a=!1,g.formaction&&(m("input","formAction")?g.formaction=!1:a=!0),g.formenctype&&(m("input","formEnctype")?g.formenctype=!1:a=!0),g.formmethod&&(m("input","formMethod")?g.formmethod=!1:a=!0),g.formtarget&&(m("input","formTarget")?g.formtarget=!1:a=!0),g.formAttribute&&k()&&(g.formAttribute=!1),(g.formAttribute||a)&&(t.off("submit.formFive",f),t.on("submit.formFive",f)),a&&i()},m=function(a,b){var c;return c=document.createElement(a),b in c},e=function(a,b){var c;a[0].createTextRange?(c=a[0].createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()):a[0].setSelectionRange&&a[0].setSelectionRange(b,b)},d=function(a,b,c){var d,e,f,g,h,i,j,k,l;for(i=a.val(),c===!0&&(a=a.clone()),d=a.get(0),h=d.attributes,e={},k=0,l=h.length;l>k;k++)g=h[k],g.specified===!0&&(e[g.name]=g.value);e.type=b,f=jQuery(document.createElement("input"));for(j in e)f.attr(j,e[j]);return f.val(i),f.on("focus.formFive click.formFive keyup.formFive",n),f.on("keyup.formFive",o),a.replaceWith(f),f},c=function(){return g.placeholder&&p(),g.formAttribute&&j(),!0},f=function(a){t.off("submit.formFive",f),a.preventDefault(),c()&&t.trigger("submit")},q=function(){s=t.find("*[placeholder]"),s.on("focus.formFive click.formFive keyup.formFive keydown.formFive keypress.formFive",n),s.on("keyup.formFive textinput.formFive",o),r()},n=function(){var a;a=jQuery(this),a.hasClass(g.placeholderClass)&&e(a,0)},o=function(){var a,b;a=jQuery(this),b=a.attr("data-ffmaxlength"),""===a.val()?(a.addClass(g.placeholderClass),a.val(a.attr("placeholder")),null!=b&&a.attr("maxlength",""),"password"===a.attr("type")&&(a=d(a,"text",!1),a.focus()),e(a,0)):a.hasClass(g.placeholderClass)&&a.val()!==a.attr("placeholder")&&(a.removeClass(g.placeholderClass),null!=b&&a.attr("maxlength",b),a.hasClass("formFivePlaceholder")&&(a=d(a,"password",!1),e(a,99999),a.focus()),a.index(a.attr("placeholder"))&&a.val(a.val().replace(a.attr("placeholder"),"")))},r=function(){var a,b,c,e,f,h;for(c=f=0,h=s.length;h>f;c=++f)e=s[c],a=s.eq(c),b=a.attr("maxlength"),(""===a.val()||a.val()===a.attr("placeholder"))&&(a.val(a.attr("placeholder")),a.addClass(g.placeholderClass),null!=b&&(a.attr("data-ffmaxlength",b),a.attr("maxlength","")),"password"===a.attr("type")&&(a.addClass("formFivePlaceholder"),a=d(a,"text",!1)))},p=function(){var a,b,c,d,e;for(s=t.find("*[placeholder]"),s.off(),b=d=0,e=s.length;e>d;b=++d)c=s[b],a=s.eq(b),a.val()===a.attr("placeholder")&&(a.val(""),a.removeClass(g.placeholderClass))},b=function(){var a;a=t.find("*[autofocus]"),e(a.eq(0),0)},i=function(){var a,b,c,d,e,f,i,j,k,l,m,n,o,p,q,r,s,u,v,w;if(g.formaction)for(b=t.find("*[formaction]"),k=o=0,s=b.length;s>o;k=++o)a=b[k],b.eq(k).on("click.formFive",h);if(g.formenctype)for(d=t.find("*[formenctype]"),l=p=0,u=d.length;u>p;l=++p)c=d[l],d.eq(l).off("click.formFive"),d.eq(l).on("click.formFive",h);if(g.formmethod)for(f=t.find("*[formmethod]"),m=q=0,v=f.length;v>q;m=++q)e=f[m],f.eq(m).off("click.formFive"),f.eq(m).on("click.formFive",h);if(g.formtarget)for(j=t.find("*[formtarget]"),n=r=0,w=j.length;w>r;n=++r)i=j[n],j.eq(n).off("click.formFive"),j.eq(n).on("click.formFive",h)},h=function(a){var b;t.off("submit.formFive",f),a.preventDefault(),b=jQuery(this),""!==b.attr("formaction")&&g.formaction&&t.attr("action",b.attr("formaction")),""!==b.attr("formenctype")&&g.formenctype&&t.attr("enctype",b.attr("formenctype")),""!==b.attr("formmethod")&&g.formmethod&&t.attr("method",b.attr("formmethod")),""!==b.attr("formtarget")&&g.formtarget&&t.attr("target",b.attr("formtarget")),c()&&t.trigger("submit")},k=function(){var a,b,c;return b=document.createElement("input"),a=jQuery(b),jQuery("body").append(b),a.attr("form",t.attr("id")),c="object"==typeof b.form&&null!==b.form?!0:!1,a.remove(),c},j=function(){var a,b,c,e,f,g,h;for(e=jQuery("*[form]"),g=0,h=e.length;h>g;g++)b=e[g],b=jQuery(b),c=b.attr("form"),f=t.attr("id"),jQuery.contains(t[0],b[0])||c!==f||(a=d(jQuery(b),"hidden",!0),t.append(a))},l(),this}}.call(this);