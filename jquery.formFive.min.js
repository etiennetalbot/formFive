/*
# formFive jQuery Plugin
# A plugin for HTML5 Form compatibility
# version 1.1.4, September 22nd, 2013
# by Etienne Talbot
*/

(function(){jQuery.fn.formFive=function(e){var t,r,o,a,f,n,i,l,c,m,u,s,d,p,v,h,y,g,F,b,j=this;return n={placeholder:!1,placeholderClass:"placeholder",autofocus:!1,formaction:!1,formenctype:!1,formmethod:!1,formtarget:!1,formAttribute:!1},e&&jQuery.extend(n,e),b=null,F=null,s=function(){var e;b=jQuery(j),n.placeholder&&(d("input","placeholder")?n.placeholder=!1:(b.off("submit.formFive",f),b.on("submit.formFive",f),y())),n.autofocus&&(d("input","autofocus")?n.autofocus=!1:t()),e=!1,n.formaction&&(d("input","formAction")?n.formaction=!1:e=!0),n.formenctype&&(d("input","formEnctype")?n.formenctype=!1:e=!0),n.formmethod&&(d("input","formMethod")?n.formmethod=!1:e=!0),n.formtarget&&(d("input","formTarget")?n.formtarget=!1:e=!0),n.formAttribute&&(m()?n.formAttribute=!1:u()),(n.formAttribute||e)&&(b.off("submit.formFive",f),b.on("submit.formFive",f)),e&&l()},d=function(e,t){var r;return r=document.createElement(e),t in r},a=function(e,t){var r;e[0].createTextRange?(r=e[0].createTextRange(),r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",t),r.select()):e[0].setSelectionRange&&e[0].setSelectionRange(t,t)},o=function(e,t,r){var o,a,f,n,i,l,c,m,u;for(l=e.val(),r===!0&&(e=e.clone()),o=e.get(0),i=o.attributes,a={},m=0,u=i.length;u>m;m++)n=i[m],n.specified===!0&&(a[n.name]=n.value);a.type=t,f=jQuery(document.createElement("input"));for(c in a)f.attr(c,a[c]);return f.val(l),f.on("focus.formFive click.formFive keyup.formFive",p),f.on("keyup.formFive",v),e.replaceWith(f),f},r=function(){return n.placeholder&&h(),n.formAttribute&&c(),!0},f=function(e){b.off("submit.formFive",f),e.preventDefault(),r()&&b.trigger("submit")},y=function(){F=b.find("*[placeholder]"),F.on("focus.formFive click.formFive keyup.formFive keydown.formFive keypress.formFive",p),F.on("keyup.formFive textinput.formFive",v),g()},p=function(){var e;e=jQuery(this),e.hasClass(n.placeholderClass)&&a(e,0)},v=function(){var e,t;e=jQuery(this),t=e.attr("data-ffmaxlength"),""===e.val()?(e.addClass(n.placeholderClass),e.val(e.attr("placeholder")),null!=t&&e.attr("maxlength",""),"password"===e.attr("type")&&(e=o(e,"text",!1),e.focus()),a(e,0)):e.hasClass(n.placeholderClass)&&e.val()!==e.attr("placeholder")&&(e.removeClass(n.placeholderClass),null!=t&&e.attr("maxlength",t),e.hasClass("formFivePlaceholder")&&(e=o(e,"password",!1),a(e,99999),e.focus()),e.index(e.attr("placeholder"))&&e.val(e.val().replace(e.attr("placeholder"),"")))},g=function(){var e,t,r,a,f,i;for(r=f=0,i=F.length;i>f;r=++f)a=F[r],e=F.eq(r),t=e.attr("maxlength"),(""===e.val()||e.val()===e.attr("placeholder"))&&(e.val(e.attr("placeholder")),e.addClass(n.placeholderClass),null!=t&&(e.attr("data-ffmaxlength",t),e.attr("maxlength","")),"password"===e.attr("type")&&(e.addClass("formFivePlaceholder"),e=o(e,"text",!1)))},h=function(){var e,t,r,o,a;for(F=b.find("*[placeholder]"),F.off(),t=o=0,a=F.length;a>o;t=++o)r=F[t],e=F.eq(t),e.val()===e.attr("placeholder")&&(e.val(""),e.removeClass(n.placeholderClass))},t=function(){var e;e=b.find("*[autofocus]"),a(e.eq(0),0)},l=function(){var e,t,r,o,a,f,l,c,m,u,s,d,p,v,h,y,g,F,j,k;if(n.formaction)for(t=b.find("*[formaction]"),m=p=0,g=t.length;g>p;m=++p)e=t[m],t.eq(m).on("click.formFive",i);if(n.formenctype)for(o=b.find("*[formenctype]"),u=v=0,F=o.length;F>v;u=++v)r=o[u],o.eq(u).off("click.formFive"),o.eq(u).on("click.formFive",i);if(n.formmethod)for(f=b.find("*[formmethod]"),s=h=0,j=f.length;j>h;s=++h)a=f[s],f.eq(s).off("click.formFive"),f.eq(s).on("click.formFive",i);if(n.formtarget)for(c=b.find("*[formtarget]"),d=y=0,k=c.length;k>y;d=++y)l=c[d],c.eq(d).off("click.formFive"),c.eq(d).on("click.formFive",i)},i=function(e){var t;b.off("submit.formFive",f),e.preventDefault(),t=jQuery(this),""!==t.attr("formaction")&&n.formaction&&b.attr("action",t.attr("formaction")),""!==t.attr("formenctype")&&n.formenctype&&b.attr("enctype",t.attr("formenctype")),""!==t.attr("formmethod")&&n.formmethod&&b.attr("method",t.attr("formmethod")),""!==t.attr("formtarget")&&n.formtarget&&b.attr("target",t.attr("formtarget")),r()&&b.trigger("submit")},m=function(){var e,t,r;return t=document.createElement("input"),e=jQuery(t),jQuery("body").append(t),e.attr("form",b.attr("id")),r="object"==typeof t.form&&null!==t.form?!0:!1,e.remove(),r},c=function(){var e,t,r,a,f,n,i;for(a=jQuery("*[form]"),n=0,i=a.length;i>n;n++)t=a[n],t=jQuery(t),r=t.attr("form"),f=b.attr("id"),jQuery.contains(b[0],t[0])||r!==f||(e=o(jQuery(t),"hidden",!0),b.append(e))},u=function(){var e,t;e=b.attr("id"),t=jQuery('*[type="submit"][form="'+e+'"]'),t.on("click.formFive",function(){return jQuery(this).is(":disabled")?void 0:b.submit()})},s(),this}}).call(this);